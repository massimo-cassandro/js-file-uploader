{"version":3,"file":"FileUploader.esm.js","sources":["../src/i18n/it.js","../src/_default_options.js","../src/_utilities.js","../src/_create_info_text.js","../src/_sortable.js","../src/_create_item.js","../src/_build_hidden_fields.js","../src/_alert.js","../src/_send_files.js","../src/_set_listeners.js","../src/_create_uploader.js","../src/_init.js","../src/file_uploader.js"],"sourcesContent":["const fupl_strings_it = {\n\n  // Mustache-like placeholders will be replaced with corresponding values\n\n  alert_too_much_files: 'Puoi selezionare un solo file!', // tentativo di trascinare più file con uploader singolo\n  alert_xhr_error: 'Si &egrave; verificato un errore nel caricamento del file “<strong>{{file_name}}</strong>”.', // errore ajax\n  alert_file_format_error: 'Il file “<strong>{{file_name}}</strong>” è di un formato non consentito',\n  alert_file_size_error: 'Le dimensioni di “<strong>{{file_name}}</strong>” ({{file_size}}) '+\n    'superano il valore massimo consentito ({{allowed_size}})',\n\n  fupl_alert_header: 'Errore',\n  fupl_alert_btn_text: 'OK',\n\n  // images sizes alerts\n  alert_img_exact_width_err: '<strong>{{file_name}}</strong>: larghezza non corrispondente ({{image_dimension}}px invece di {{allowed_dimension}}px)',\n  alert_img_min_width_err: '<strong>{{file_name}}</strong>: larghezza inferiore a quella minima consentita ({{image_dimension}}px invece di {{allowed_dimension}}px)',\n  alert_img_max_width_err: '<strong>{{file_name}}</strong>: larghezza superiore a quella massima consentita ({{image_dimension}}px invece di {{allowed_dimension}}px)',\n  alert_img_exact_height_err: '<strong>{{file_name}}</strong>: altezza non corrispondente ({{image_dimension}}px invece di {{allowed_dimension}}px)',\n  alert_img_min_height_err: '<strong>{{file_name}}</strong>: altezza inferiore a quella minima consentita ({{image_dimension}}px invece di {{allowed_dimension}}px)',\n  alert_img_max_height_err: '<strong>{{file_name}}</strong>: altezza superiore a quella massima consentita ({{image_dimension}}px invece di {{allowed_dimension}}px)',\n  alert_img_ratio_err: '<strong>{{file_name}}</strong>: la proporzione tra base e altezza dell’immagine non corrisponde a quella richiesta ({{aspect_ratio}})',\n\n  no_img_text: 'Nessuna immagine presente',\n  no_doc_text: 'Nessun file presente',\n  remove_btn_text: 'Elimina questo file',\n\n  // info text strings\n  info_text_std_imgs : 'immagini in formato <strong>JPEG</strong>, <strong>PNG</strong>, <strong>GIF</strong> o <strong>WEBP</strong>',\n  info_text_imgs_svg : 'immagini in formato <strong>JPEG</strong>, <strong>PNG</strong>, <strong>GIF</strong>, <strong>WEBP</strong> o <strong>SVG</strong>',\n  info_text_imgs_svg_size_info_text: '<strong>Solo per le immagini non SVG:</strong> ',\n\n  info_text_img_optimize_info: 'Ottimizza le tue immagini prima di caricarle. ' +\n    '<a href=\"https://squoosh.app/\" target=\"_blank\" rel=\"noopener noreferrer\">Squoosh</a> è un ottimo (e gratuito) ' +\n    'strumento per farlo.'+\n    '<br>Per l’editing puoi utilizzare <a href=\"https://www.befunky.com/create/photo-editor/\" target=\"_blank\" rel=\"noopener noreferrer\">Befunky</a>',\n\n  info_text_svg_optimize_info: 'È consigliabile ottimizzare i file SVG prima del caricamento, ' +\n    'ad esempio tramite <a href=\"https://jakearchibald.github.io/svgomg/\" target=\"_blank\" rel=\"noopener noreferrer\">SVGO</a>',\n\n  info_text_img_fixed_size: 'dimensioni: <strong>{{img_w}}&times;{{img_h}}px</strong>',\n  info_text_img_equal_min_size: 'larghezza e altezza non inferiori a <strong>{{img_min_w}}px</strong>',\n  info_text_img_equal_max_size: 'larghezza e altezza non superiori a <strong>{{img_max_w}}px</strong>',\n  info_text_img_fixed_width : 'larghezza <strong>{{img_w}}px</strong>',\n  info_text_img_fixed_height : 'altezza <strong>{{img_h}}px</strong>',\n  info_text_img_width_range: 'larghezza compresa tra <strong>{{img_min_w}}px</strong> e <strong>{{img_max_w}}px</strong>',\n  info_text_img_min_width: 'larghezza non inferiore a <strong>{{img_min_w}}px</strong>',\n  info_text_img_max_width: 'larghezza non superiore a <strong>{{img_max_w}}px</strong>',\n  info_text_img_height_range: 'altezza compresa tra <strong>{{img_min_h}}px</strong> e <strong>{{img_max_h}}px</strong>',\n  info_text_img_min_height: 'altezza non inferiore a <strong>{{img_min_h}}px</strong>',\n  info_text_img_max_height: 'altezza non superiore a <strong>{{img_max_h}}px</strong>',\n  info_text_pdf_file: 'file in formato <strong>PDF</strong>',\n  info_text_svg_file: 'immagini in formato <strong>SVG</strong>',\n  info_text_max_filesize: 'max <strong>{{max_filesize}}</strong>',\n  info_text_img_aspect_ratio: 'Il rapporto tra base e altezza dell’immagine deve essere esattamente pari a <strong>{{img_aspect_ratio}}</strong>',\n\n  // select or drag labels\n  img_single_select_text   : 'Seleziona un’immagine',\n  img_single_drag_text     : '&hellip;oppure trascinala qui',\n  img_multiple_select_text : 'Seleziona una o pi&ugrave; immagini',\n  img_multiple_drag_text   : '&hellip;oppure trascinale qui',\n  doc_single_select_text   : 'Seleziona un documento',\n  doc_single_drag_text     : '&hellip;oppure trascinalo qui',\n  doc_multiple_select_text : 'Seleziona uno o pi&ugrave; documenti',\n  doc_multiple_drag_text   : '&hellip;oppure trascinali qui',\n\n  sortable_icon_title_text: 'Trascina per cambiare l’ordinamento'\n};\n\nexport default fupl_strings_it;\n","/*\n  Some options contain Mustache-like variables (e.g.: {{xxx}}) that will be replaced\n  with the corresponding values of the localized strings items.\n\n  Variable name (the `xxx` part) must be the same as the string item name\n\n*/\n\nexport const default_options = {\n\n  // server side script url\n  uploader_url: null,\n\n  // locales for numbers parsing\n  locales: 'it-IT',\n\n  // ff true, console shows informations about current FileUploader Configuration\n  debug: false,\n\n  // method for ajax request\n  ajax_method: 'POST',\n\n  // disabled state\n  /*\n    If true, it prevents items from being loaded\n\n    The presence of the disabled attribute in the .fupl-wrapper element disables the element\n    input [type = file] generated by FileUploader (HTML 5 std behavior) and prevents drag & drop.\n\n    The disabled parameter can also be set via the element attribute\n    input [type = file] of fallback, if present.\n    Be carefully about changing disabled state of the input field on the fly:\n    to have it affect the FileUploader instance, you must also modify the disabled attribute\n    of the fieldset.fupl-wrapper element.\n  */\n  disabled: false,\n\n  // types of selectable files. the value must match one of the `upl.mimetypes` arrays\n  filetype: 'auto',\n\n  /*\n    String of extensions or mimetypes separated by commas that identify\n    alloewd files to be uploaded,\n    in addition or replacement of what is set via the `filetype` parameter.\n\n    The `accept` attribute of the input field contained\n    in the FileUploader element (if present), performs the same function.\n\n    In both cases, the values are taken into account only if `filetype == 'auto'`\n\n    In the presence of both the `accept` parameter and the `accept` attribute,\n    a merge is performed, and the accept attribute takes precedence over the parameter.\n    If this parameter is `null`, the` accept` attribute is not present,\n    and  `filetype` parameter is `auto` all file types are accepted.\n\n  */\n  accept: null,\n\n  /*\n    Enable the ability to uploader multiple files.\n    This option can also be activated via the `multiple` attribute\n    of the `input` field (if present)\n  */\n  multiple: false,\n\n  /*\n    Set the FileUploder as required\n    This option can also be activated via the `multiple` attribute\n    of the `input` field (if present)\n  */\n  required: false,\n\n  // disables FileUploader submit button of the parent form element while\n  // FileUploader is performing an upload.\n  disable_submit: false,\n\n  // HTML templates\n  template_main: '<div class=\"fupl-result\"></div>' +\n    '<div class=\"fupl-panel\">' +\n      '<div class=\"fupl-button\">' +\n        '<label><input type=\"file\"></label>' +\n        '<div class=\"fupl-dd-text\"></div>' +\n      '</div>' +\n      '<div class=\"fupl-info-text\"></div>' +\n    '</div>',\n\n  template_empty_img: '<div class=\"fupl-result-empty text-muted small font-italic\">{{no_img_text}}}}</div>',\n  template_empty_doc: '<div class=\"fupl-result-empty text-muted small font-italic\">{{no_doc_text}}</div>',\n\n  // template of trigger for removing files\n  // This markup will be placed inside the `.fupl-remove` element,\n  // that must be present in the template of each FileUploader item\n  // It must be a button element\n  template_remove_btn: '<button type=\"button\" class=\"close fupl-remove-trigger\" aria-label=\"{{remove_btn_text}}\" title=\"{{remove_btn_text}}\">' +\n      '<span aria-hidden=\"true\">&times;</span>' +\n    '</button>',\n\n  // Markup to show uploading progress\n  template_loading_element: '<div class=\"fupl-loading\"><progress class=\"fupl-progress\" max=100 value=0></progress></div>',\n\n  // Alternative loading feedback, used if progress.lengthComputable == false.\n  // In this case and if the `alternative_loading_func` function is not present,\n  // this string replaces the `.fupl-progress` element.\n  template_alternative_loading_element: '<div class=\"spinner-grow text-primary\" role=\"status\">' +\n    '<span class=\"sr-only\">Loading...</span></div',\n\n  // items templates, if tag <a> is used, avoid `href` attribute\n  template_img_item_single: '<div class=\"fupl-item\">' +\n      '<div class=\"fupl-remove\"></div>' +\n      '<img alt=\"Immagine caricata\" class=\"img-fluid fupl-img\">' +\n      '<div class=\"fupl-file-info\">' +\n        '<div class=\"text-truncate fupl-file-name\"></div>' +\n        '<div class=\"fupl-file-size\"></div>' +\n        '<div class=\"fupl-extra-fields\"></div>' +\n      '</div>' +\n    '</div>',\n\n  template_img_item_multiple: '<div class=\"fupl-item\">' +\n      '<div class=\"fupl-remove\"></div>' +\n      '<div class=\"fupl-img-wrapper\">' +\n        '<img alt=\"Immagine caricata\" class=\"img-fluid fupl-img\" draggable=\"false\">' +\n      '</div>' +\n      '<div class=\"fupl-file-info\">' +\n        '<div class=\"text-truncate fupl-file-name\"></div>' +\n        '<div class=\"fupl-file-size\"></div>' +\n      '</div>' +\n      '<div class=\"fupl-extra-fields\"></div>' +\n      '<div class=\"fupl-sortable-icon\"></div>' +\n    '</div>',\n\n  template_doc_item_single: '<div class=\"fupl-item\">' +\n    '<div class=\"fupl-doc-wrapper\">' +\n      '<div class=\"fupl-remove\"></div>' +\n      '<div class=\"fupl-doc text-truncate\">' +\n        '<a class=\"text-truncate fupl-file-name fupl-url\" draggable=\"false\"></a>' +\n      '</div>' +\n    '</div>' +\n    '<div class=\"small ml-1 text-nowrap fupl-file-size\"></div>' +\n    '<div class=\"fupl-extra-fields\"></div>' +\n    '<div class=\"fupl-sortable-icon\"></div>' +\n  '</div>',\n\n  template_doc_item_multiple: null, // uses single doc templates\n\n  // Extra classes to be added to the FileUploader wrapper element (classes names separated by spaces)\n  wrapper_extra_class: null,\n\n  // template for error messages dialog\n  // if changed, .fupl-x classes must be maintained\n  fupl_alert_template:\n    `<div class=\"fupl-alert-overlay\">\n      <div class=\"fupl-alert\">\n        <div class=\"fupl-alert-header\">{{fupl_alert_header}}</div>\n        <div class=\"fupl-alert-body\"></div>\n        <div class=\"fupl-alert-footer\">\n          <button type=\"button\" class=\"fupl-alert-btn\">{{fupl_alert_btn_text}}</button>\n        </div>\n      </div>\n    </div>`,\n\n  // classes to be added to alert button\n  // they can be changed without redefine entire alert template\n  // merging is perfomed in the `init` module\n  fupl_alert_btn_class: 'btn btn-secondary',\n\n\n  // Class(es) to be added to the FileUploader element when a file is dragged there from desktop\n  element_dragover_class: 'fupl-is-dragover',\n\n  // If true a legend tag will be added inside the the FileUploader wrapper (fieldset)\n  // It will be filled with the text of the label of the input[file] tag (if present)\n  // or with the uploader_legend_text parameter content\n  uploader_legend: true,\n\n  // Text of legend element (alternative to original label text)\n  uploader_legend_text: null,\n\n  // Class to be added to uploader_legend element\n  uploader_legend_class: null,\n\n  // classes to be added to the label of the generated nput[file] tag\n  input_label_class: 'btn btn-outline-primary btn-sm',\n\n  // show the information text on accepted formats, image size, etc.\n  show_info_text: true,\n\n  // show images optimization tips\n  show_optimize_info: true,\n\n  // strings added to the beginning and end of the generated info text\n  info_text_wrap_string: ['(', ')'],\n\n  // String used to join the various parts of the generated info text\n  info_text_join_string: ' - ',\n\n  // Custom info text. If present, replaces the generated info text\n  custom_info_text: null,\n\n  // help text. If present, is added after the info_text or custom_info_text\n  help_text: null,\n\n  /*\n    Images settings (only for filetype == 'img')\n\n    Numeric values that correspond to the pixel dimensions required for the image.\n    The img_min_* and img_max_* parameters can be assigned simultaneously,\n    but they are ignored if the corresponding exact parameters exist\n    (for example, if img_w is present, the parameters img_min_w and img_max_w\n    or img_aspect_ratio are not taken into consideration).\n    The default value of all parameters is null, which means that they are not applied.\n    Aspect ratio must be a number or string in w/h or w:h format or the result of w/h division.\n    Aspect ratio values are rounded to three decimal places\n\n      * `img_w`            : exact image width\n      * `img_h`            : exact image height\n      * `img_min_w`        : min image width\n      * `img_min_h`        : min image height\n      * `img_max_w`        : max image width\n      * `img_max_h`        : max image height\n      * `img_aspect_ratio` : aspect ratio w/h value (16/9, 4:3, 0.5, ecc)\n  */\n  img_w            : null,\n  img_h            : null,\n  img_min_w        : null,\n  img_min_h        : null,\n  img_max_w        : null,\n  img_max_h        : null,\n  img_aspect_ratio : null,\n\n  /*\n    Aspect Ratio accuracy.\n    It is a number that indicates the decimal numbers to which the image size\n    ratio will be rounded for comparison with the `img_aspect_ratio` parameter\n  */\n  aspect_ratio_accuracy: 2,\n\n  /*\n    Maximum size (weight) of the image. It can be a number,\n    and in this case it corresponds to a dimension in KB, or a string\n    composed of a numeric value and a suffix between ‘KB’ and ‘MB’ (also lowercase).\n    If the value is null or if the string is not recognized,\n    no limit is applied.\n  */\n  max_filesize: null,\n\n  /*\n    Prefix of the variable used to send the data to the server.\n    The value indicates the base name of the generated varname\n  */\n  varname: 'file',\n\n  /*\n    Prefix of the variable used to send the data to the server,\n    for extra fields of preregistered files only\n    (For compatibility with beta version)\n  */\n  registered_extra_field_varname: null,\n\n  /*\n    Function called after the initialization of each FileUploader element.\n    Function is invoked passing the complete `fupl` obj as argument\n  */\n  init_callback: null,\n\n  /*\n    Function called each time a file upload begins.\n    Function argument is an object that contains:\n      * `item`: current item object, it contains:\n          - `id`: element unique id\n          - `file`: current filelist object\n          - `width` and `height`: null or image dimensions (pixel)\n      * `img_preview` : base64 image preview (null if not an image)\n      * `fupl`: options & strings of current FileUploader instance\n  */\n  upload_start_callback: null,\n\n  /*\n    Function called each time a file has been uploaded.\n      Function argument is an object that contains:\n      * `item`: current item object, it contains:\n          - `id`: element unique id\n          - `file`: current filelist object\n          - `width` and `height`: null or image dimensions (pixel)\n          - `tmp_file`: name of temporary file saved on the server\n      * `server_error`: error message strimg (null if no error occurred)\n      * `fupl`: options & strings of current FileUploader instance\n  */\n  upload_complete_callback: null,\n\n  /*\n    Alternative upload progress function (see alternative_loading_element parameter)\n    If present, it replaces the standard one\n    Function argument is an object that contains:\n      - `progress_event`: upload progress event\n      - `fupl`: options & strings of current FileUploader instance\n  */\n  alternative_loading_func: null,\n\n  /*\n    JSON array of preregistered element:\n    [\n      {\n        rel_id → id of the record related to the file (it's facultative and can be null).\n                  It's usefully for many-to-many tables, and, if present,\n                  is the one provided to delete a file from the server\n        id     → unique id of the file (required)\n        name   → file name (required)\n        url    → url for <a> tag href attribute (if present) (facultative)\n        src    → image `src` attribute (required for images only)\n        wi     → image pixel width  (for images only)\n        he     → image pixel height  (for images only)\n        size   → bytes size\n        [...]  → extra fields, if present\n      }\n      [...]\n    ]\n  */\n  values: [],\n\n  // varname use for deleted file generated hidden fields\n  delete_varname: 'elimina_file[]',\n\n  /*\n    if true fancybox integration is activated for images\n    fancybox is not present in FileUploader, and must be loaded in the page\n    Furthermore, to activate this option, an `url` parameter must be provided\n    (see `values` option)\n  */\n  fancybox: false,\n\n  /*\n    markup of <a> tag to wrap image tags when fancybox option is active\n    if a `a.fupl-url` element is present in img templates string, this options\n    will not be used\n  */\n  fancybox_anchor_markup: '<a class=\"fupl-url\" data-fancybox=\"fupl-gallery\"></a>',\n\n  /*\n    optional function to be called after fancybox markup is applied\n    to all elements and after `init_callback`.\n    Function is invoked passing the complete `fupl_options` obj as argument\n  */\n  fancybox_callback_func: null,\n\n  // ========================================\n  // SORTABLE OPTIONS\n  // ========================================\n  /*\n    Enable the ability to rearrange items by dragging them.\n\n    This options adds one more hidden field for each file to the form, using the\n    `reorder_varname` parameter for generated varnames.\n\n    The reorder option is enabled if the reorder parameter is true, if\n    the multiple parameter is true and if the sortable_varname parameter is present\n\n    If the option is active, the values of any pre-recorded items\n    must be provided in the json `values` in the correct order\n\n    See `demo / reorder_demo.html` for a usage example\n  */\n  sortable: false,\n\n  /*\n    sortable hidden item varname\n    it will be combined with main varname to obtain a string like\n      varname[item_id][sortable_varname]\n  */\n  sortable_varname: 'fupl_order',\n\n  /*\n    markup for dragging icon\n    to be inserted in `.fupl-sortable-icon` element,\n    that must be present in the multiple item template\n  */\n  sortable_icon: '<div title=\"{{sortable_icon_title_text}}\"></div>',\n\n  // ========================================\n  // EXTRA FIELDS\n  // ========================================\n  /*\n    Markup to be added at the end of every uploaded item.\n    It is an array of objects each of which describes a field element:\n      [\n        {\n          \"value_key\": field key,\n          \"markup\": html string\n        },\n        ...\n      ]\n\n    * `value_key` identifies the field element and corresponds to the key used\n                  also in the values object.\n    * `use_rel_id` (default false), if true, and the `values` parameter contains the\n                    `rel_id` items, the `{{name}}` variable will be generated\n                    using `rel_id` instead of `id`.\n                    Only pre-registered items will be affected by this setting (since new items\n                    never have a `rel_id`).\n                    If `use_rel_id` is true but the `rel_id`  item doesn't exist,\n                    the `id`  will be used\n\n    * `markup` is a HTML string which contains some Mustache-like placeholder:\n      - `{{idx}}`         → unique id of the element\n      - `{{val}}`         → content of value attribute, it corresponds to\n                            `values[...][value_key]` value\n      - `{{checked}}`     → if `values[...][value_key]` exists and it's different from\n                            `0`, `null` or empty string, it is replaced with the `checked` attribute,\n                            otherwise, with an empty string\n      - `{{name}}`        → is replaced with a PHP name string formed by\n                                * the `varname` parameter\n                                * the unique id or rel_id (according to use_rel_id setting) of the element\n                                * the `value_key` string\n                            Example: `file[fupl_00001][caption]`\n\n    Take a look to `extra_fields_demo.html` for a working demo.\n  */\n  extra_fields: null\n};\n","export const fupl_utilities = {\n\n  /*\n    Mimetypes and extensions allowed according to `filetype` parameter\n    The `auto` parameter accepts all file types (except for limitations\n    added by `accept` parameter/attribute)\n  */\n  mimetypes: (() => {\n    let mimetypes = {\n      auto      : null,\n      img       : ['image/png', 'image/jpeg', 'image/pjpeg', 'image/gif', 'image/webp',\n        '.png', '.jpg', '.jpeg', '.pjpg', '.pjpeg', '.gif', '.webp'],\n      pdf       : ['application/pdf', '.pdf'],\n      svg       : ['image/svg+xml', '.svg', '.svgz']\n    };\n\n    mimetypes['img+svg'] = mimetypes['img'].concat(mimetypes['svg']);\n\n    return mimetypes;\n\n  })(),\n\n  /*\n    isSuitableBrowser\n    Check the browser\n    returns `true` or `false`\n  */\n  isSuitableBrowser: () => {\n    // IE\n    if( navigator.userAgent.indexOf('MSIE') !== -1 ||\n    navigator.appVersion.indexOf('Trident/') > -1 ||\n    navigator.userAgent.indexOf('Trident/') > -1 ){\n      return false;\n    }\n\n    var div = document.createElement( 'div' );\n    return ( ( 'draggable' in div ) || ( 'ondragstart' in div && 'ondrop' in div ) ) //TODO rimuovere ondragstart/ondrop (IE)?\n      && 'FormData' in window\n      && 'FileReader' in window\n      && 'fetch' in window;\n  },\n\n  set_has_values: fupl => {\n    let items = fupl.opts.instance_result_wrapper.querySelectorAll('.fupl-item').length;\n    fupl.opts.wrapper.dataset.hasValues = items? 'true' : 'false';\n    if(!items) {\n      fupl.opts.instance_result_wrapper.innerHTML = fupl.strs[`no_${fupl.opts._type}_text`];\n    }\n  },\n\n  parse_bytes_value: (bytes, locales) => {\n    bytes = +bytes;\n    let mega = 1024*1024;\n    if(bytes >= mega ) {\n      return (bytes/mega).toLocaleString(locales, {maximumFractionDigits: 1}) + '<span class=\"fupl-unit\">MB</span>';\n\n    } else if (bytes < 1024) {\n      return Number((bytes/1024).toFixed(2)).toLocaleString(locales, {maximumFractionDigits: 2}) +\n        '<span class=\"fupl-unit\">KB</span>';\n\n    } else {\n      return Math.round(bytes/1024).toLocaleString(locales, {maximumFractionDigits: 0}) +\n        '<span class=\"fupl-unit\">KB</span>';\n    }\n  },\n\n  /*\n   Parse the `max_filesize` parameter (if exists) and returns:\n    - `null` if max_filesize === null\n    - `false` if `max_filesize` is not a correct value\n    - the object `{ maxbytes: 123456, unit: 'KB', feedback_size: '1.2KB'}`\n    where\n      - `maxbytes` is max_filesize value in bytes\n      - `unit` is one of 'KB' and 'MB'\n      - `feedback_size` is a textual representation of max_filesize\n         for the purpose of providing end user informations\n  */\n  parse_max_filesize: (filesize_value, locales) =>  {\n    // max_filesize checking and parsing\n    if( filesize_value ) {\n      var maxbytes, unit, feedback_size;\n\n      if(!isNaN(filesize_value)) { //solo numero, si assume siano KB\n        maxbytes = +filesize_value;\n        unit = 'KB';\n        feedback_size = maxbytes;\n\n      } else {\n\n        unit = filesize_value.substr(-2, 2).toUpperCase();\n        maxbytes = +filesize_value.substr(0, filesize_value.length-2);\n        feedback_size = maxbytes;\n\n        if(isNaN(maxbytes) || (unit !== 'KB' && unit !== 'MB') ) {\n          return false;\n        }\n      }\n\n      // If unit is KB but value is bigger than 1MB,\n      // unit is changed\n      if( maxbytes >= 1024 && unit === 'KB') {\n        unit = 'MB';\n        feedback_size = (Math.round((maxbytes / 1024) * 100) /100);\n      }\n\n      if(unit === 'KB') {\n        maxbytes = maxbytes * 1024;\n      } else {\n        maxbytes = maxbytes * 1024 * 1024;\n      }\n\n      return {\n        //'original_value': filesize_value,\n        //'unit'         : unit,\n        'maxbytes'     : maxbytes,\n        'feedback_size': feedback_size.toLocaleString(\n          locales, {maximumFractionDigits: (unit === 'KB'? 0 : 1)}\n        ) + '<span class=\"fupl-unit\">' + unit + '</span>'\n      };\n\n    } else {\n      return null;\n    }\n  },\n\n  exec_callback: (callback_function, params) => {\n    try {\n      if(typeof callback_function === 'string') {\n\n        let cbk_func = window;\n        callback_function.split('.').forEach( function(item) {\n          cbk_func = cbk_func[item];\n        });\n        cbk_func(params);\n\n      } else {\n        callback_function(params);\n      }\n\n    } catch(error) {\n      alert(`Error: “${callback_function}” callback function doesn't exist`);\n      console.error(error); // eslint-disable-line\n    }\n  }\n\n};\n","/**\n * create_info_text\n * Creates a string of information about the file requirements\n *\n */\n\nexport function create_info_text(fupl) {\n\n  let info_text = [];\n\n  switch (fupl.opts.filetype) {\n    case 'img':\n      info_text.push( fupl.strs.info_text_std_imgs );\n      break;\n\n    case 'img+svg':\n      info_text.push( fupl.strs.info_text_imgs_svg);\n      break;\n\n    case 'svg':\n      info_text.push( fupl.strs.info_text_svg_file);\n      break;\n\n    case 'pdf':\n      info_text.push( fupl.strs.info_text_pdf_file);\n      break;\n  }\n\n  if( fupl.opts.max_filesize !== null ) {\n    info_text.push( fupl.strs.info_text_max_filesize );\n  }\n\n  if( fupl.opts.filetype === 'img' || fupl.opts.filetype === 'img+svg' ) {\n\n    let img_size_info = [];\n\n    if( fupl.opts.img_w && fupl.opts.img_h ) {\n      img_size_info.push( fupl.strs.info_text_img_fixed_size );\n\n    } else {\n\n      if(fupl.opts.img_min_w && fupl.opts.img_min_h && fupl.opts.img_min_w === fupl.opts.img_min_h) {\n        img_size_info.push( fupl.strs.info_text_img_equal_min_size );\n\n      } else if(fupl.opts.img_max_w && fupl.opts.img_max_h && fupl.opts.img_max_w === fupl.opts.img_max_h) {\n        img_size_info.push( fupl.strs.info_text_img_equal_max_size );\n\n      } else {\n\n        if( fupl.opts.img_w ) {\n          img_size_info.push( fupl.strs.info_text_img_fixed_width );\n\n        } else if( fupl.opts.img_min_w && fupl.opts.img_max_w ) {\n          img_size_info.push( fupl.strs.info_text_img_width_range );\n\n        } else if( fupl.opts.img_min_w ) {\n          img_size_info.push( fupl.strs.info_text_img_min_width );\n\n        } else if( fupl.opts.img_max_w  ) {\n          img_size_info.push( fupl.strs.info_text_img_max_width );\n        }\n\n        if( fupl.opts.img_h ) {\n          img_size_info.push( fupl.strs.info_text_img_fixed_height );\n\n        } else if( fupl.opts.img_min_h && fupl.opts.img_max_h ) {\n          img_size_info.push( fupl.strs.info_text_img_height_range );\n\n        } else if( fupl.opts.img_min_h ) {\n          img_size_info.push( fupl.strs.info_text_img_min_height );\n\n        } else if( fupl.opts.img_max_h ) {\n          img_size_info.push( fupl.strs.info_text_img_max_height );\n        }\n\n        if(fupl.opts.img_aspect_ratio) {\n          img_size_info.push( fupl.strs.info_text_img_aspect_ratio );\n        }\n      }\n    }\n\n    if(img_size_info.length) {\n      info_text.push(\n        (fupl.opts.filetype === 'img+svg' ? fupl.strs.info_text_imgs_svg_size_info_text : '') +\n        img_size_info.join(', ')\n      );\n    }\n  }\n\n  info_text = info_text.map( item => {\n    return item.replace(/{{img_w}}/, fupl.opts.img_w)\n      .replace(/{{img_h}}/, fupl.opts.img_h)\n      .replace(/{{img_min_w}}/, fupl.opts.img_min_w)\n      .replace(/{{img_min_h}}/, fupl.opts.img_min_h)\n      .replace(/{{img_max_w}}/, fupl.opts.img_max_w)\n      .replace(/{{img_max_h}}/, fupl.opts.img_max_h)\n      .replace(/{{img_aspect_ratio}}/, fupl.opts.img_aspect_ratio)\n      .replace(/{{max_filesize}}/, fupl.opts.max_filesize? fupl.opts.max_filesize.feedback_size : null);\n  });\n\n  let str = info_text.join(fupl.opts.info_text_join_string);\n  str = str.charAt(0).toUpperCase() + str.slice(1);\n\n  if( fupl.opts.info_text_wrap_string && str ) {\n    str = fupl.opts.info_text_wrap_string[0] + str + fupl.opts.info_text_wrap_string[1];\n  }\n\n  if(fupl.opts.filetype === 'img' || fupl.opts.filetype === 'img+svg') {\n    str += '<div>' + fupl.strs.info_text_img_optimize_info + '</div>';\n  }\n\n  if(fupl.opts.filetype === 'svg' || fupl.opts.filetype === 'img+svg') {\n    str += '<div>' + fupl.strs.info_text_svg_optimize_info + '</div>';\n  }\n\n  return str;\n}\n","/*\n  based on\n  - https://github.com/WolfgangKurz/grabbable\n\n  references:\n  - https://codepen.io/therealDaze/pen/ZaoErp\n  - https://github.com/gridstack/gridstack.js\n  - https://developer.mozilla.org/it/docs/Web/API/HTML_Drag_and_Drop_API\n  - https://www.html5rocks.com/en/tutorials/dnd/basics/\n  - https://kryogenix.org/code/browser/custom-drag-image.html\n  - http://jsfiddle.net/zfnj5rv4/\n*/\n\nlet dragged_element = null,\n  uploader_is_disabled = false;\n\nconst classes = {\n\n    // class added to the FileUploader elment (fupl_options.element)\n    // when a drag is started. It is removed at dragleave\n    sorting_class: 'fupl-sorting',\n\n    // same way, class added to the dragged element\n    sorting_item_class: 'fupl-item-sorting',\n\n    // class added to an item on dragover\n    over_item_class: 'fupl-item-dragover'\n  },\n\n  // broken events cleaning\n  resetAll = () => {\n\n    if( dragged_element ) {\n      dragged_element.classList.remove(classes.sorting_item_class);\n\n      dragged_element.parentNode.querySelectorAll('.' + classes.over_item_class).forEach(item => {\n        item.classList.remove(classes.over_item_class);\n      });\n\n      dragged_element.closest('.fupl').classList.remove(classes.sorting_class);\n    }\n\n    dragged_element = null;\n  };\n\nexport function add_sortable_events(fupl_item, fupl_options) {\n\n  // start dragging\n  fupl_item.addEventListener('dragstart', function(e) {\n    uploader_is_disabled = fupl_options.wrapper.disabled;\n    resetAll();\n    if(!uploader_is_disabled) {\n\n      dragged_element = this;\n\n      // `classes.sorting_class` is added to the dragged element\n      // this prevents the feedback triggered when external files are dropped\n      // in the broswer (look at scss/_fupl.scss)\n      fupl_options.element.classList.add(classes.sorting_class);\n\n      e.dataTransfer.effectAllowed = 'move';\n      e.dataTransfer.setData('text', 'fupl-sorting');\n\n      this.classList.add(classes.sorting_item_class);\n    }\n\n  }, false);\n\n  // enter positioning over another element (→ e.target == this)\n  fupl_item.addEventListener('dragenter', function(e) {\n\n    // disabled for external files or when the uploader is disabled\n    if( e.dataTransfer.getData('text') === 'fupl-sorting' && !uploader_is_disabled) {\n      if (e.stopPropagation) {\n        e.stopPropagation(); // stops the browser from redirecting.\n      }\n      if( this !== dragged_element ) {\n        this.classList.add(classes.over_item_class);\n      }\n    }\n\n  }, false);\n\n  // positioning over another element (→ e.target)\n  fupl_item.addEventListener('dragover', function(e) {\n    if( e.dataTransfer.getData('text') === 'fupl-sorting' && !uploader_is_disabled ) {\n\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      e.dataTransfer.dropEffect = 'move';\n      if( this !== dragged_element ) {\n        this.classList.add(classes.over_item_class);\n      }\n    }\n\n    return false;\n  }, false);\n\n  // exit positioning over another element\n  fupl_item.addEventListener('dragleave', function() {\n\n    this.classList.remove(classes.over_item_class);\n  }, false);\n\n  // drop\n  fupl_item.addEventListener('drop', function(e) {\n    if( e.dataTransfer.getData('text') === 'fupl-sorting' && !uploader_is_disabled) {\n      if (e.stopPropagation) {\n        e.stopPropagation(); // stops the browser from redirecting.\n      }\n\n      e.preventDefault();\n\n      if(dragged_element) {\n        if(this.previousElementSibling === dragged_element && this.nextElementSibling ) {\n          this.parentNode.insertBefore(dragged_element, this.nextElementSibling);\n\n        } else if( this.nextElementSibling ) {\n          this.parentNode.insertBefore(dragged_element, this);\n\n        // if target element is the last one, the dropped one is positioned after it\n        } else {\n          this.parentNode.insertAdjacentElement('beforeend', dragged_element);\n        }\n      }\n      resetAll();\n    }\n\n    return false;\n\n  }, false);\n\n  // end dragging\n  fupl_item.addEventListener('dragend', function(e) {\n\n    if( e.dataTransfer.getData('text') === 'fupl-sorting' && !uploader_is_disabled) {\n      fupl_options.element.classList.remove(classes.sorting_class);\n      resetAll();\n\n      // order variable\n      fupl_options.instance_result_wrapper.querySelectorAll('.fupl-sortable-order').forEach((item,idx) => {\n        item.value = idx;\n      });\n    }\n\n  }, false);\n} // end add_sortable_events\n\n\nexport function activate_sortable(fupl_options) {\n\n  // class added to `fupl_options.instance_result_wrapper`\n  // when `sortable` option is activated\n  fupl_options.instance_result_wrapper.classList.add( 'fupl-sortable' );\n\n}\n","/*\n  Add an element to fupl.opts.instance_result_wrapper\n  and set all needed listeners\n\n  `item_data` obj contains all element data:\n    {\n      id      → file unique id (can be file path too)\n      name    → file name\n      url     → url for any <a> tag present in the element (if it is an image can be a null or not set)\n      src     → `src` attribute. Required if element is an image, otherwise null or not set\n      wi      → image px width (null or not set if not image)\n      he      → image px height (null or not set if not image)\n      size    → file size (bytes)\n      loading → `true` if it is an item being uploaded\n      ...     → any additional instance-specific fields\n    }\n\n  `fupl`                    : is the fupl object\n  `preregistered` === true  : means that the element was previously saved and comes\n                              from the `fupl.opts.values` array\n\n*/\n\nimport {fupl_utilities} from './_utilities.js';\nimport {add_sortable_events} from './_sortable.js';\n\nexport function create_item(item_data, fupl, preregistered = false) {\n\n  try {\n\n    let item_markup = fupl.opts[`template_${fupl.opts._type}_item_${fupl.opts._mode}`];\n    if( item_markup === null && fupl.opts._mode === 'multiple' ) {\n      item_markup = fupl.opts[`template_${fupl.opts._type}_item_single`];\n    }\n\n    let fupl_item_wrapper = document.createElement('div'); // wrapper to be removed after inserting\n    fupl_item_wrapper.innerHTML = item_markup;\n\n    // delete button\n    let fupl_remove = fupl_item_wrapper.querySelector('.fupl-remove');\n    if(fupl_remove) {\n      fupl_remove.innerHTML = fupl.opts.template_remove_btn\n        .replace(/{{remove_btn_text}}/g, fupl.strs.remove_btn_text);\n    }\n\n    /*\n      element data\n      ============================\n\n      each fupl-item element contains:\n        .fupl-file-name\n        .fupl-file-size\n        .fupl-img → img\n        .fupl-img → a.href\n        .fupl-doc → a.href\n\n    */\n\n    // file name\n    let fupl_file_name = fupl_item_wrapper.querySelector('.fupl-file-name');\n    if(fupl_file_name && item_data.name ) {\n      fupl_file_name.innerHTML = item_data.name;\n      fupl_file_name.title = item_data.name;\n    }\n\n    // size info\n    let fupl_file_size = fupl_item_wrapper.querySelector('.fupl-file-size');\n    if(fupl_file_size ) {\n      let size_string = '';\n      if(fupl.opts._type === 'img' && item_data.wi && item_data.he) {\n        size_string = item_data.wi + '&times;' + item_data.he + '<span class=\"fupl-unit\">px</span>';\n        if(item_data.size) {\n          size_string += ' &ndash; ';\n        }\n      }\n      if(item_data.size) {\n        size_string += fupl_utilities.parse_bytes_value(item_data.size, fupl.opts.locales);\n      }\n\n      fupl_file_size.innerHTML = size_string;\n    }\n\n    // image\n    if( fupl.opts._type === 'img' ) {\n      fupl_item_wrapper.querySelector('.fupl-img').src = item_data.src;\n    }\n\n    // url\n    let fupl_url = fupl_item_wrapper.querySelector('.fupl-url');\n    if( fupl_url && item_data.url) {\n      fupl_url.href = item_data.url;\n    }\n\n    let fupl_item = fupl_item_wrapper.querySelector('.fupl-item');\n\n\n    if(item_data.loading) {\n      fupl_item.classList.add('fupl-is-uploading');\n      fupl_item.insertAdjacentHTML('beforeend',\n        fupl.opts.template_loading_element\n      );\n    }\n\n    if(fupl.opts._mode === 'single') {\n      fupl.opts.instance_result_wrapper.innerHTML = fupl_item_wrapper.innerHTML;\n    } else {\n\n      // instance_result_wrapper cleaning (to remove 'no file' string, if present)\n      if( !fupl.opts.instance_result_wrapper.querySelector('.fupl-item')) {\n        fupl.opts.instance_result_wrapper.innerHTML = '';\n      }\n\n      fupl.opts.instance_result_wrapper.insertAdjacentHTML('beforeend',\n        fupl_item_wrapper.innerHTML\n      );\n    }\n\n\n    let fupl_item_dom = fupl.opts.instance_result_wrapper.querySelector('.fupl-item:last-child');\n    fupl_item_dom.dataset.id = item_data.id;\n\n    // remove element listener\n    let fupl_remove_trigger = fupl_item_dom.querySelector('.fupl-remove-trigger');\n    if(fupl_remove_trigger) {\n      fupl_remove_trigger.addEventListener('click', () => {\n        fupl_item_dom.remove();\n\n        let prereg_id = item_data.rel_id? item_data.rel_id : item_data.id;\n\n        if(prereg_id && preregistered) {\n          fupl.opts.wrapper.insertAdjacentHTML('beforeend',\n            `<input type=\"hidden\" name=\"${fupl.opts.delete_varname}\" value=\"${prereg_id}\">`\n          );\n        }\n\n        // controllo se instance_result_wrapper è vuoto\n        // e impostazione di attributo e contenuti\n        fupl_utilities.set_has_values(fupl);\n\n      });\n    }\n\n    //fancybox integration\n    if( fupl.opts.fancybox && fupl.opts._type === 'img' && item_data.url && fupl.opts.fancybox_anchor_markup) {\n      // check for `a.fupl-url` tag and add it if necessary\n      if( !fupl_item_dom.querySelector('a.fupl-url') ) {\n\n        let img_element = fupl_item_dom.querySelector('.fupl-img'),\n          fancybox_wrapper = document.createElement('div');\n        fancybox_wrapper.innerHTML = fupl.opts.fancybox_anchor_markup;\n\n        fancybox_wrapper = fancybox_wrapper.firstChild;\n        img_element.parentNode.insertBefore(fancybox_wrapper, img_element);\n        fancybox_wrapper.appendChild(img_element);\n      }\n\n      fupl_item_dom.querySelector('a.fupl-url').setAttribute('href', item_data.url);\n\n    }\n\n    // extra fields\n    let extra_fields_wrapper = fupl_item_dom.querySelector('.fupl-extra-fields');\n    if(fupl.opts.extra_fields !== null && extra_fields_wrapper) {\n\n      fupl.opts.extra_fields.forEach( item => {\n        extra_fields_wrapper.insertAdjacentHTML('beforeend',\n          item.markup.replace(/{{idx}}/g, item_data.id)\n            .replace(/{{val}}/g, preregistered && item_data[item.value_key]? item_data[item.value_key] : '')\n            .replace(/{{checked}}/g, preregistered && +item_data[item.value_key]? 'checked' : '')\n            .replace(/{{name}}/g,\n              (preregistered && fupl.opts.registered_extra_field_varname?\n                fupl.opts.registered_extra_field_varname : fupl.opts.varname) +\n              '[' +\n              ((item.use_rel_id && item_data.rel_id)? item_data.rel_id : item_data.id) +\n              '][' + item.value_key + ']'\n            )\n        );\n      });\n\n      // stop bubbling when sortable\n      if( fupl.opts.sortable ) {\n        extra_fields_wrapper.querySelectorAll('select, input, textarea').forEach(item => {\n          item.setAttribute('draggable', 'false');\n          ['dragstart', 'drag', 'mousedown'].forEach( ev => {\n            item.addEventListener(ev, e => {\n              if(ev !== 'mousedown') {e.preventDefault();}\n              e.stopPropagation();\n            });\n          });\n        });\n      }\n    }\n\n    // sortable\n    if( fupl.opts.sortable ) {\n      fupl_item_dom.setAttribute('draggable', true);\n\n      // order_value starts from zero\n      let order_value = fupl.opts.instance_result_wrapper.querySelectorAll('.fupl-item').length -1;\n\n      fupl_item_dom.insertAdjacentHTML('beforeend',\n        '<input type=\"hidden\" class=\"fupl-sortable-order\" name=\"' +\n            (preregistered && fupl.opts.registered_extra_field_varname?\n              fupl.opts.registered_extra_field_varname :\n              fupl.opts.varname) +\n            `[${item_data.id}][${fupl.opts.sortable_varname}]\" value=\"${order_value}\">`\n      );\n\n      if(fupl.opts.sortable_icon) {\n        fupl_item_dom.querySelector('.fupl-sortable-icon').innerHTML =\n          fupl.opts.sortable_icon\n            .replace('{{sortable_icon_title_text}}', fupl.strs.sortable_icon_title_text);\n      }\n      add_sortable_events(fupl_item_dom, fupl.opts);\n    }\n\n    return fupl.opts.instance_result_wrapper.querySelector('.fupl-item:last-child');\n\n  } catch(e) {\n    console.error(e); // eslint-disable-line\n  }\n\n}\n","/*\nGenerate hidden fields with values to be sent to server\nReturns the hidden fields html string\n*/\nexport function build_hidden_fields(current_item, fupl_options) {\n\n  // normalize ascii chars > 127 (and more)\n  const normalize_file_name = filename => {\n    let converted = '';\n    const std_char = '-', // char for standrd substitutions\n      conversionTable = { // Reference table Unicode vs ASCII\n        'à' : 'a', // 224\n        'è' : 'e', // 232\n        'é' : 'e', // 233\n        'ì' : 'i', // 236\n        'ò' : 'o', // 242\n        'ù' : 'u', // 249\n        'À' : 'A', // 192\n        'È' : 'E', // 200\n        'É' : 'E', // 201\n        'Ì' : 'I', // 204\n        'Ò' : 'O', // 210\n        'Ù' : 'U', // 217\n        '\\'' : std_char, // 39\n        '|' : std_char, // 124\n        '!' : std_char, // 33\n        '\"' : std_char, // 34\n        '$' : std_char, // 36\n        '%' : std_char, // 37\n        '&' : std_char, // 38\n        '/' : std_char, // 47\n        '(' : std_char, // 40\n        ')' : std_char, // 41\n        '=' : std_char, // 61\n        '?' : std_char, // 63\n        '^' : std_char, // 94\n        '*' : std_char, // 42\n        '[' : std_char, // 91\n        ']' : std_char, // 93\n        'ç' : 'c', // 231\n        '@' : std_char, // 64\n        '#' : std_char, // 35\n        '<' : std_char, // 60\n        '>' : std_char, // 62\n        'ü' : 'u', // 252\n        'Ü' : 'U', // 220\n        'ñ' : 'n', // 241\n        'Ñ' : 'N', // 209\n        '~' : std_char, // 126\n        ':' : std_char,\n        '\\\\' : std_char\n      };\n\n    for(var i = 0; i < filename.length; i++) {\n      if( filename[i] in conversionTable) {\n        converted += conversionTable[filename[i]];\n\n      } else if(filename.charCodeAt(i) === 768 || filename.charCodeAt(i) === 769 ) { // accento grave e accento acuto\n        converted += '';\n\n      } else if(filename.charCodeAt(i) > 127 ) {\n        converted += std_char;\n\n      } else {\n        converted += filename.charAt(i);\n      }\n    }\n\n    return converted.replace(/ /g, std_char)\n      .replace(new RegExp(`^${std_char}+`), '')\n      .replace(new RegExp(`${std_char}+`,'g'), std_char);\n  };\n\n  let hidden_fields = '',\n    field_values = {\n      'tmp_file'  : current_item.tmp_file,\n      'file_name' : normalize_file_name(current_item.file.name),\n      'size'      : current_item.file.size,\n      'type'      : current_item.file.type\n    };\n\n  if(fupl_options._type === 'img') {\n    field_values.width = current_item.width;\n    field_values.height = current_item.height;\n  }\n  for (let _key in field_values) {\n    hidden_fields += '<input type=\"hidden\" '+\n      'name=\"' + fupl_options.varname + '[' + current_item.id +'][' + _key + ']\" '+\n      'value=\"' + ((field_values[_key] !== null && field_values[_key] !== undefined)? field_values[_key] : '') +'\">';\n  }\n\n  return '<div class=\"fupl-hiddens\">' + hidden_fields + '</div>';\n\n}\n","// TODO update to dialog element\n\nexport function fupl_alert(mes, fupl_opts) {\n\n  let alert_container = fupl_opts.element.querySelector('.fupl-alert-body ul');\n\n  if(typeof mes === 'string') {\n    mes = [mes];\n  }\n\n\n  if(!alert_container) {\n    fupl_opts.element.insertAdjacentHTML('beforeend',\n      fupl_opts.fupl_alert_template\n    );\n\n    fupl_opts.element.querySelector('.fupl-alert-body').innerHTML = '<ul></ul>';\n\n    alert_container = fupl_opts.element.querySelector('.fupl-alert-body ul');\n\n    fupl_opts.element.querySelector('.fupl-alert button').addEventListener('click', () => {\n      fupl_opts.element.querySelector('.fupl-alert-overlay').remove();\n    }, false);\n  }\n\n  mes.forEach(item => {\n    alert_container.insertAdjacentHTML('afterbegin', `<li>${item}</li>`);\n  });\n\n\n}\n","/*\nPerforms all the checks, calls the remote url via ajax\nand generates the feedback for the user\n*/\n\nimport {create_item} from './_create_item.js';\nimport {fupl_utilities} from './_utilities.js';\nimport {build_hidden_fields} from './_build_hidden_fields.js';\nimport {fupl_alert} from './_alert.js';\n\n\nexport function send_files(filelist, fupl) {\n\n  // disable the form submit button until the upload is completed\n  const disable_submit = (mode) => {\n      // mode === true → disable, false → enable\n      const _form = fupl.opts.element.closest('form');\n\n      if(fupl.opts.disable_submit && _form) {\n        const submit_btns = _form.querySelectorAll('[type=\"submit\"]');\n\n        submit_btns.forEach( btn => {\n          btn.disabled = mode;\n        });\n\n        // TODO: removeEventListener doesn't work\n        // const submitHandler = (e) => {\n        //   e.preventDefault();\n        //   //return false;\n        // };\n        // if(mode === true) {\n        //   _form.addEventListener('submit', submitHandler, false);\n        // } else {\n        //   if( !fupl.opts.instance_result_wrapper.querySelector('.fupl-item.fupl-is-uploading')) {\n        //     _form.removeEventListener('submit', submitHandler, false);\n        //   }\n        // }\n      }\n    },\n\n    /*\n    uploadFile\n    ajax upload\n    https://www.smashingmagazine.com/2018/01/drag-drop-file-uploader-vanilla-js/\n\n    current_item contains:\n      - `id`: element unique id\n      - `file`: filelist obj\n      - `width` e height: image pixel sizes. null if not an image\n      - `tmp_file`: temporary server file name (new uplaods only)\n\n    */\n    uploadFile = function ( current_item, img_preview ) {\n\n      // disabling form\n      disable_submit(true);\n\n      // aggiunta elemento all'uploader\n      let this_item = create_item({\n          id       : current_item.id,\n          name     : current_item.file.name,\n          url      : null,\n          src      : img_preview,\n          wi       : current_item.width,\n          he       : current_item.height,\n          size     : current_item.file.size,\n          img_type : current_item.file.img_type,\n          loading  : true\n        }, fupl),\n\n\n        fupl_progress= this_item.querySelector('.fupl-progress'),\n        fupl_loading_wrapper = this_item.querySelector('.fupl-loading'),\n\n        xhr_error_message = fupl.strs.alert_xhr_error.replace(/{{file_name}}/, current_item.file.name);\n\n      //console.log(this_item); // eslint-disable-line\n\n      const remove_item_on_error = () => {\n        this_item.querySelector('.fupl-remove-trigger').click();\n      };\n\n      // custom callback function\n      if( fupl.opts.upload_start_callback ) {\n        fupl_utilities.exec_callback(fupl.opts.upload_start_callback, {\n          item              : current_item,\n          img_preview       : img_preview,\n          uploader_options  : fupl\n        });\n      }\n\n      new Promise(function(resolve, reject) {\n        let ajax = new XMLHttpRequest();\n        ajax.open( fupl.opts.ajax_method, fupl.opts.uploader_url, true );\n\n        ajax.onload = function() {\n\n          if( ajax.status >= 200 && ajax.status < 400 ) {\n\n            const response = JSON.parse( ajax.responseText );\n\n            /*\n            jsonResponse:\n              {\n                \"tmp_file\": \"temp_file_name\",\n                \"error\": null\n              }\n            */\n            if(response.error) {\n\n              fupl_alert( xhr_error_message, fupl.opts );\n              console.error( response.error ); // eslint-disable-line\n              reject();\n\n            } else {\n              current_item.tmp_file = response.tmp_file;\n              resolve();\n            }\n\n            // custom callback function\n            if( fupl.opts.upload_complete_callback ) {\n              fupl_utilities.exec_callback(fupl.opts.upload_complete_callback, {\n                item          : current_item,\n                server_error  : response.error,\n                fupl          : fupl\n              });\n            }\n\n            if(fupl.opts.debug) {\n              /* eslint-disable */\n              console.groupCollapsed(`FileUploader ${fupl.opts._vers} ajax response`);\n              console.log(response);\n              console.groupEnd();\n              /* eslint-enable */\n            }\n\n          } else {\n            fupl_alert( xhr_error_message, fupl.opts );\n            /* eslint-disable */\n            console.error( ajax.status, ajax.statusText );\n            console.error( ajax.responseText );\n            /* eslint-enable */\n          }\n\n          reject();\n        };\n\n        ajax.onerror = function() {\n          fupl_alert( xhr_error_message, fupl.opts );\n          /* eslint-disable */\n          if(fupl.opts.debug) {\n            console.error( ajax.status,  ajax.statusText );\n            console.error( ajax.responseText );\n          }\n          /* eslint-enable */\n\n          reject();\n        };\n\n        ajax.upload.addEventListener('progress', function (e) {\n          if( fupl.opts.alternative_loading_func ) {\n\n            fupl_utilities.exec_callback(fupl.opts.alternative_loading_func, ...[e, fupl]);\n\n          } else {\n            let perc_loaded = Math.round(e.loaded / e.total * 100.0) || 0;\n\n            //console.log(e.loaded ,e.total, perc_loaded); // eslint-disable-line\n            if(fupl_progress) {\n              if(e.lengthComputable) {\n                perc_loaded = perc_loaded === Infinity? 100 : perc_loaded;\n                this_item.querySelector('.fupl-progress').value = perc_loaded;\n              } else {\n                fupl_loading_wrapper.innerHTML = fupl.opts.template_alternative_loading_element;\n                fupl_progress = null;\n              }\n            }\n          }\n        }, false);\n\n\n        let fileData = new FormData();\n        fileData.append('file', current_item.file);\n        ajax.send( fileData );\n      }) // end promise\n        .then(\n          // resolve\n          function (  ) {\n            //console.log('resolve'); // eslint-disable-line\n            this_item.classList.remove('fupl-is-uploading');\n            this_item.querySelector('.fupl-loading').remove(); // elemento loading\n\n            this_item.insertAdjacentHTML('beforeend',\n\n              build_hidden_fields(current_item, fupl.opts)\n            );\n\n            fupl_utilities.set_has_values(fupl);\n\n            // restoring submit\n            disable_submit(false);\n\n          },\n          //reject\n          function (  ) {\n            //console.log('reject'); // eslint-disable-line\n            remove_item_on_error();\n            fupl_utilities.set_has_values(fupl);\n          }\n        );\n\n    };\n\n  if( filelist.length ) {\n\n    // https://stackoverflow.com/questions/38362231/\n    // how-to-use-promise-in-foreach-loop-of-array-to-populate-an-object\n    [...filelist].forEach(function (filelist_item, idx) {\n      try {\n\n        let current_item = {\n          id: 'fupl_item_' + Date.now() + '_' + idx, // id unico\n          file: filelist_item,\n          width: null,\n          height: null,\n          tmp_file: null,\n          img_type: fupl.opts._type === 'img'?\n            (filelist_item.type === 'image/svg+xml' ? 'svg' : 'bmp') : null\n        };\n\n        // filetype check (for drag & drop and browsers that don't support accept)\n        if( fupl.opts.accept.length ) {\n          let ext = filelist_item.name.split('.').pop().toLowerCase();\n          if( fupl.opts.accept.indexOf( filelist_item.type ) === -1 &&\n            fupl.opts.accept.indexOf( '.' + ext ) === -1) {\n\n            throw fupl.strs.alert_file_format_error\n              .replace(/{{file_name}}/, filelist_item.name );\n          }\n        } // end filetype check\n\n        // maxfilesize check\n        if( fupl.opts.max_filesize !== null ) {\n          if( filelist_item.size > fupl.opts.max_filesize.maxbytes ) {\n            let item_parsed_size = fupl_utilities.parse_bytes_value(filelist_item.size, fupl.opts.locales);\n\n            throw fupl.strs.alert_file_size_error\n              .replace(/{{file_name}}/, filelist_item.name )\n              .replace(/{{file_size}}/, item_parsed_size )\n              .replace(/{{allowed_size}}/, fupl.opts.max_filesize.feedback_size );\n          }\n        } // end maxfilesize check\n\n        // images\n        if( fupl.opts._type === 'img') {\n          let reader  = new FileReader();\n          reader.addEventListener('load', function () {\n\n            let image = new Image();\n            image.src = reader.result;\n            image.addEventListener('load', function () {\n\n              let error_messages = [];\n              current_item.width=image.width;\n              current_item.height=image.height;\n              if(current_item.img_type === 'bmp') {\n                if( fupl.opts.img_w && image.width !== fupl.opts.img_w ) {\n                  error_messages.push(\n                    fupl.strs.alert_img_exact_width_err\n                      .replace(/{{image_dimension}}/, image.width)\n                      .replace(/{{allowed_dimension}}/, fupl.opts.img_w)\n                  );\n\n                } else if(fupl.opts.img_min_w && image.width < fupl.opts.img_min_w) {\n                  error_messages.push(\n                    fupl.strs.alert_img_min_width_err\n                      .replace(/{{image_dimension}}/, image.width)\n                      .replace(/{{allowed_dimension}}/, fupl.opts.img_min_w)\n                  );\n\n                } else if(fupl.opts.img_max_w && image.width > fupl.opts.img_max_w) {\n                  error_messages.push(\n                    fupl.strs.alert_img_max_width_err\n                      .replace(/{{image_dimension}}/, image.width)\n                      .replace(/{{allowed_dimension}}/, fupl.opts.img_max_w)\n                  );\n                }\n\n                if (fupl.opts.img_h && image.height !== fupl.opts.img_h) {\n                  error_messages.push(\n                    fupl.strs.alert_img_exact_height_err\n                      .replace(/{{image_dimension}}/, image.height)\n                      .replace(/{{allowed_dimension}}/, fupl.opts.img_h)\n                  );\n\n                } else if(fupl.opts.img_min_h && image.height < fupl.opts.img_min_h) {\n                  error_messages.push(\n                    fupl.strs.alert_img_min_height_err\n                      .replace(/{{image_dimension}}/, image.height)\n                      .replace(/{{allowed_dimension}}/, fupl.opts.img_min_h)\n                  );\n\n                } else if(fupl.opts.img_max_h && image.height > fupl.opts.img_max_h) {\n                  error_messages.push(\n                    fupl.strs.alert_img_max_height_err\n                      .replace(/{{image_dimension}}/, image.height)\n                      .replace(/{{allowed_dimension}}/, fupl.opts.img_max_h)\n                  );\n\n                }\n              }\n\n              // aspect ratio\n              if(fupl.opts.parsed_img_aspect_ratio) {\n                let img_ratio = Math.round(((image.width / image.height) + Number.EPSILON) * fupl.opts.aspect_ratio_accuracy) / fupl.opts.aspect_ratio_accuracy;\n                if(img_ratio !== fupl.opts.parsed_img_aspect_ratio) {\n                  error_messages.push(\n                    fupl.strs.alert_img_ratio_err\n                      .replace(/{{aspect_ratio}}/, fupl.opts.img_aspect_ratio)\n                  );\n                }\n              }\n\n              if( error_messages.length ) {\n                error_messages = error_messages\n                  .map(item => item.replace(/{{file_name}}/, filelist_item.name ) );\n                fupl_alert(error_messages, fupl.opts );\n\n              } else {\n                uploadFile( current_item, reader.result );\n              }\n\n            }, false); // end image.addEventListener(\"load\"\n\n          }, false); // end reader.addEventListener(\"load\"\n\n          reader.readAsDataURL( filelist_item );\n\n          // } else if(current_item.img_type === 'svg') { // svg\n\n          //   let reader = new FileReader();\n\n          //   reader.addEventListener('load', () => {\n\n          //     let image = new Image();\n          //     image.src = reader.result;\n\n          //     image.addEventListener('load', function () {\n          //       current_item.width=image.width;\n          //       current_item.height=image.height;\n          //     });\n\n          //     uploadFile( current_item,\n          //       reader.result\n          //       //'data:image/svg+xml;base64,' +  window.btoa(event.target.result)\n          //     );\n          //   });\n          //   reader.readAsDataURL(filelist_item);\n\n        } else { // not image\n          uploadFile( current_item );\n\n        } // end if image\n\n      } catch (errormessage) {\n        fupl_alert( errormessage, fupl.opts);\n      }\n    }); // end foreach\n\n  } // end if( filelist.length )\n\n}\n","import {send_files} from './_send_files.js';\nimport {fupl_alert} from './_alert.js';\n\n// https://www.smashingmagazine.com/2018/01/drag-drop-file-uploader-vanilla-js/\nexport function set_listeners(fupl) {\n\n  ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {\n    fupl.opts.element.addEventListener(eventName, (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n    }, false);\n  });\n\n  ['dragover', 'dragenter'].forEach(eventName => {\n    fupl.opts.element.addEventListener(eventName, () => {\n      fupl.opts.element.classList.add( fupl.opts.element_dragover_class );\n    }, false);\n  });\n\n  ['dragleave', 'dragend'].forEach(eventName => {\n    fupl.opts.element.addEventListener(eventName, () => {\n      fupl.opts.element.classList.remove( fupl.opts.element_dragover_class );\n    }, false);\n  });\n\n  fupl.opts.element.addEventListener('drop', (e) => {\n    fupl.opts.element.classList.remove( fupl.opts.element_dragover_class );\n    if(!fupl.opts.wrapper.hasAttribute('disabled')) {\n      let files = e.dataTransfer.files;\n\n      if(files.length) { // if 0 is a reordering or another event\n        if( !fupl.opts.multiple && files.length > 1 ) {\n          fupl_alert(fupl.strs.alert_too_much_files, fupl.opts);\n        } else {\n          send_files( files, fupl );\n        }\n      }\n    }\n  }, false);\n\n  // selecting thru input element\n  fupl.opts.instance_input.addEventListener('change', () => {\n    send_files( fupl.opts.instance_input.files, fupl );\n  });\n\n}\n","import {fupl_utilities} from './_utilities.js';\nimport {create_info_text} from './_create_info_text.js';\nimport {activate_sortable} from './_sortable.js';\nimport {create_item} from './_create_item.js';\nimport {set_listeners} from './_set_listeners.js';\n\nexport function createUploader(fupl) {\n\n  try {\n\n    // check for input[file] and label elements\n    let _input = fupl.opts.element.querySelector('input[type=\"file\"]'),\n      original_label = fupl.opts.element.querySelector('label');\n\n    // parsing `accept` parameter and attribute, if exist\n    if( fupl.opts.filetype === 'auto' ) {\n\n      let accept_attr = [],\n        accept_params = [];\n\n      if( fupl.opts.accept !== null ) {\n        accept_params = fupl.opts.accept\n          .split(',').map( item => item.trim() );\n      }\n\n      if(_input && _input.getAttribute('accept') ) {\n        accept_attr = _input.getAttribute('accept')\n          .split(',').map( item => item.trim() );\n      }\n\n      // https://www.peterbe.com/plog/merge-two-arrays-without-duplicates-in-javascript\n      fupl.opts.accept = [...new Set([...accept_params, ...accept_attr])];\n\n    } else {\n      fupl.opts.accept = fupl_utilities.mimetypes[fupl.opts.filetype];\n    }\n\n    // `max_filesize` parsing\n    let max_filesize = fupl_utilities.parse_max_filesize(fupl.opts.max_filesize, fupl.opts.locales);\n    if( max_filesize === false ) {\n      throw new Error( `FileUploader: incorrect value for “max_filesize” parameter (${fupl.opts.max_filesize})`);\n    } else {\n      fupl.opts.max_filesize = max_filesize;\n    }\n\n    // `multiple` parameter or attribute\n    fupl.opts.multiple = Boolean(fupl.opts.multiple || (_input && _input.hasAttribute('multiple') ));\n\n    // `required` parameter or attribute\n    fupl.opts.required = Boolean(fupl.opts.required || (_input && _input.hasAttribute('required') ));\n\n    // `disabled` parameter or attribute\n    fupl.opts.disabled = Boolean(fupl.opts.disabled || (_input && _input.hasAttribute('disabled') ));\n\n\n    // uploader mode and type\n    fupl.opts._type = ['img', 'svg', 'img+svg'].indexOf(fupl.opts.filetype) !== -1? 'img' : 'doc';\n    fupl.opts._mode = fupl.opts.multiple? 'multiple' : 'single';\n\n    // label text (from element of `uploader_legend_text` parameter)\n    if( !fupl.opts.uploader_legend_text && original_label) {\n      fupl.opts.uploader_legend_text = original_label.innerHTML;\n    }\n    // label not set\n    if ( !fupl.opts.uploader_legend_text ) {\n      fupl.opts.uploader_legend_text = '__legend__';\n    }\n\n    // main class is added to FileUploader element\n    fupl.opts.element.classList.add('fupl');\n\n    // wrapper\n    fupl.opts.wrapper = document.createElement('fieldset');\n    fupl.opts.element.parentNode.insertBefore(fupl.opts.wrapper, fupl.opts.element);\n    fupl.opts.wrapper.appendChild(fupl.opts.element);\n    fupl.opts.wrapper.classList.add('fupl-wrapper');\n    fupl.opts.wrapper.classList.add('fupl-type-' + fupl.opts._type );\n    if(fupl.opts.multiple) {\n      fupl.opts.wrapper.classList.add('fupl-multiple');\n    }\n    // custom classes\n    if( fupl.opts.wrapper_extra_class ) {\n      fupl.opts.wrapper.classList.add( ...fupl.opts.wrapper_extra_class.split(' ') );\n    }\n\n    // uploader legend\n    if( fupl.opts.uploader_legend ) {\n      let _class = ['fupl-legend'];\n      if( fupl.opts.uploader_legend_class ) {\n        _class.push(fupl.opts.uploader_legend_class);\n      }\n      if( fupl.opts.required ) {\n        _class.push('required');\n      }\n\n      fupl.opts.element.insertAdjacentHTML('beforebegin',\n        '<legend' + (_class.length? ' class=\"' + _class.join(' ') + '\"' : '') + '>' +\n          fupl.opts.uploader_legend_text +\n        '</legend>'\n      );\n      fupl.opts.wrapper.classList.add( 'fupl-has-legend' );\n    }\n\n    if(fupl.opts.help_text) {\n      fupl.opts.element.insertAdjacentHTML('beforebegin',\n        `<div class=\"fupl-help-text\">${fupl.opts.help_text}</div>`\n      );\n    }\n\n    // uploader template\n    fupl.opts.element.innerHTML = fupl.opts.template_main;\n\n    fupl.opts.instance_input = fupl.opts.element.querySelector('.fupl-panel input[type=\"file\"]');\n    fupl.opts.instance_label = fupl.opts.element.querySelector('.fupl-panel label');\n    fupl.opts.instance_dd_text = fupl.opts.element.querySelector('.fupl-panel .fupl-dd-text');\n    fupl.opts.instance_info_text = fupl.opts.element.querySelector('.fupl-panel .fupl-info-text');\n    fupl.opts.instance_result_wrapper = fupl.opts.element.querySelector('.fupl-result');\n\n\n    // inserting text and attributes\n    // if( fupl.opts.required ) {\n    //   fupl.opts.instance_input.setAttribute('required', '');\n    // }\n    if( fupl.opts.multiple ) {\n      fupl.opts.instance_input.setAttribute('multiple', '');\n    }\n    if( fupl.opts.accept !== null ) {\n      fupl.opts.instance_input.setAttribute('accept', fupl.opts.accept.join(','));\n    }\n\n    // adding data-required attribute to wrapper\n    if( fupl.opts.required ) {\n      fupl.opts.wrapper.dataset.required = 'true';\n    }\n\n    // adding data-disabled attribute to wrapper\n    if( fupl.opts.disabled ) {\n      fupl.opts.wrapper.setAttribute('disabled', true);\n      fupl.opts.wrapper.setAttribute('aria-disabled', true);\n    }\n\n\n    fupl.opts.instance_label.insertAdjacentHTML('beforeend',\n      fupl.strs[`${fupl.opts._type}_${fupl.opts._mode}_select_text`]\n    );\n    if(fupl.opts.input_label_class) {\n      fupl.opts.instance_label.classList.add(...fupl.opts.input_label_class.split(' '));\n    }\n    fupl.opts.instance_dd_text.innerHTML = fupl.strs[`${fupl.opts._type}_${fupl.opts._mode}_drag_text`];\n\n\n\n    // info text\n    if( fupl.opts.show_info_text ) {\n      if(fupl.opts.custom_info_text) {\n        fupl.opts.instance_info_text.innerHTML = fupl.opts.custom_info_text;\n      } else {\n        fupl.opts.instance_info_text.innerHTML = create_info_text(fupl);\n      }\n    }\n\n\n    // Sortable\n    if( fupl.opts.sortable) {\n      if( fupl.opts.multiple && fupl.opts.sortable_varname ) {\n\n        activate_sortable(fupl.opts);\n\n      } else {\n        throw new Error('FileUploader: incorrect “sortable” settings:\\n' +\n          `\"sortable\": ${fupl.opts.sortable? 'true' : 'false'}\\n` +\n          `\"multiple\": ${fupl.opts.multiple? 'true' : 'false'}\\n` +\n          `\"sortable_varname\": \"${fupl.opts.sortable_varname}\"`\n        );\n      }\n\n    }\n\n    // adding registered values\n    // fupl.opts.values must be an array of objects\n    // if it is a single object, it is wrapped in an array\n    if(fupl.opts.values) {\n      if(typeof fupl.opts.values === 'object') {\n        if(!Array.isArray(fupl.opts.values)) {\n          fupl.opts.values = [fupl.opts.values];\n        }\n      } else {\n        throw new Error('FileUploader: incorrect “values” parameter');\n      }\n    }\n\n    if( fupl.opts.values && fupl.opts.values.length ) {\n\n      fupl.opts.values.forEach( item => {\n        create_item(item, fupl, true); // true means that the element comes from the server\n      });\n\n    }\n    fupl_utilities.set_has_values(fupl);\n\n    // gestione aggiunta nuovi elementi\n    set_listeners(fupl);\n\n\n    // calling init_callback, if present\n    if( fupl.opts.init_callback !== null ) {\n      fupl_utilities.exec_callback(fupl.opts.init_callback, fupl);\n    }\n\n    // calling fancybox_callback_func, if present\n    if( fupl.opts.fancybox && fupl.opts.fancybox_callback_func !== null ) {\n      fupl_utilities.exec_callback(fupl.opts.fancybox_callback_func, fupl.opts);\n    }\n\n    //debug\n    if( fupl.opts.debug ) {\n      /* eslint-disable */\n\n      const sorted_options= Object.keys(fupl.opts).sort()\n        .reduce((result, key) => ( result[key] = fupl.opts[key], result), {} );\n\n      //fupl.opts is exposed as global object for debug purposes\n      if(window.fileUploderOpts === undefined) {\n        window.fileUploderOpts = {};\n      }\n      window.fileUploderOpts[fupl.opts.varname] = sorted_options;\n\n      console.groupCollapsed(`FileUploader ${fupl.opts._vers} options`);\n        console.log(sorted_options);\n      console.groupEnd();\n\n      /* eslint-enable */\n    } // end if debug\n\n  } catch(e) { //throw \"error\"\n    console.error( e ); // eslint-disable-line\n  } // finally {}\n\n} // end createUploader\n\n","import {fupl_utilities} from './_utilities.js';\nimport {createUploader} from './_create_uploader.js';\n\nexport  function fupl_init(fupl) {\n\n  // browser check\n  if( !fupl_utilities.isSuitableBrowser() ) {\n    if ( 'console' in window ) {\n      console.error('This browser can\\'t run FileUploader'); // eslint-disable-line\n    }\n    return;\n  }\n\n  // CSS loading\n  if(fupl.css) {\n    document.head.insertAdjacentHTML('beforeend',\n      '<link rel=\"stylesheet\" href=\"' + fupl.css + '\" type=\"text/css\" media=\"all\">'\n    );\n  }\n\n  // `fupl.selector` elements are selected and JSFileUploader is started\n  // each element has its own options which merge with `fupl.opts`\n  document.querySelectorAll(fupl.selector).forEach( upl_element => {\n\n    /*\n      merge of global options and instance ones\n      instance options may be loaded\n      * as single data elemenys (i.e. data-filetype=\"img\"),\n        each data attribute corresponds to an item of the `default_options` array\n\n      * as `[data-file-uploader]` json value (i.e data-file-uploader='{\"filetype\":\"img\"}')\n        json has the same structure of the `default_options` array\n\n      instance options overwrites global ones (fupl.opts)\n      single data attributes overwrites json items\n    */\n\n    let all_data_params = Object.assign({}, upl_element.dataset);\n\n    // the fileUploader element contains json data and is parsed separately\n    delete all_data_params.fileUploader;\n\n    let instance_opts = Object.assign(\n      {},\n      fupl.opts,\n      JSON.parse(upl_element.dataset.fileUploader || '{}' ),\n      all_data_params\n    );\n\n    // the element itself is added to `instance_options`:\n    instance_opts.element = upl_element;\n\n    // last check and fileuploader starting\n    try {\n      //  uploader remote url can't be null\n      if( !instance_opts.uploader_url ) {\n        throw new Error( 'FileUploader: missing `uploader_url` parameter' );\n      }\n\n      // filetype parameter check\n      instance_opts.filetype = instance_opts.filetype.toLowerCase();\n\n      // aspect_ratio_accuracy\n      instance_opts.aspect_ratio_accuracy = 10 ** +instance_opts.aspect_ratio_accuracy;\n\n      // img+svg key aliases\n      if(['svg+img', 'img-svg', 'svg-img'].indexOf(instance_opts.filetype) !== -1) {\n        instance_opts.filetype = 'img+svg';\n      }\n      if( Object.keys( fupl_utilities.mimetypes ).indexOf(instance_opts.filetype) === -1 ) {\n        throw new Error( 'FileUploader: incorrect `filetype` parameter' );\n      }\n    } catch(e) {\n      console.error( e );// eslint-disable-line\n    }\n\n    // these parameters must be arrays but can retrieved as strings from data attributes\n    const json_params = [\n      'info_text_wrap_string',\n      'values',\n      'extra_fields'\n    ];\n\n\n    json_params.forEach(item => {\n      try {\n        if(typeof instance_opts[item] === 'string' ) {\n          instance_opts[item] = JSON.parse(instance_opts[item]);\n        }\n      } catch(e) {\n        console.error(`FileUploader: the “${item}” parameter is not a valid json`); // eslint-disable-line\n        console.log(instance_opts.element); // eslint-disable-line\n        console.error( e );// eslint-disable-line\n      }\n    });\n\n    // parsing of all boolean or null parameters\n    for(let i in instance_opts) {\n\n      if(typeof instance_opts[i] === 'string' &&\n        ['true', 'false', 'null'].indexOf(instance_opts[i].toLowerCase()) !== -1\n      ) {\n        instance_opts[i] = JSON.parse(instance_opts[i]);\n      }\n    }\n\n    // aspect ratio is ignored if exact constrains are presents\n    if(instance_opts.img_aspect_ratio && instance_opts.img_w && instance_opts.img_h) {\n      console.error('FileUploader: the aspect ratio parameter will be ignored, because exact constraints have been set for width and height'); // eslint-disable-line\n      instance_opts.img_aspect_ratio = null;\n    }\n\n    // aspect ratio parsing\n    instance_opts.parsed_img_aspect_ratio = null;\n    if(instance_opts.img_aspect_ratio) {\n\n      try {\n        if(isNaN(instance_opts.img_aspect_ratio)) {\n          let w,h;\n          if(instance_opts.img_aspect_ratio.indexOf('/') !== -1) {\n            [w,h] = instance_opts.img_aspect_ratio.split('/');\n          } else if (instance_opts.img_aspect_ratio.indexOf(':') !== -1) {\n            [w,h] = instance_opts.img_aspect_ratio.split(':');\n          }\n\n          if( w && h ) {\n            instance_opts.parsed_img_aspect_ratio = +w/+h;\n          } else {\n            instance_opts.parsed_img_aspect_ratio = Number(instance_opts.img_aspect_ratio);\n          }\n\n        } else {\n          instance_opts.parsed_img_aspect_ratio = +instance_opts.img_aspect_ratio;\n        }\n\n        if(instance_opts.parsed_img_aspect_ratio) {\n          instance_opts.parsed_img_aspect_ratio = Math.round((instance_opts.parsed_img_aspect_ratio + Number.EPSILON) * instance_opts.aspect_ratio_accuracy) / instance_opts.aspect_ratio_accuracy;\n        }\n\n        if(isNaN(instance_opts.parsed_img_aspect_ratio) || !instance_opts.parsed_img_aspect_ratio) {\n          throw new Error();\n        }\n      } catch(e) {\n        console.error(`FileUploader: incorrect aspect ratio parameter → ${instance_opts.img_aspect_ratio}`); // eslint-disable-line\n        instance_opts.img_aspect_ratio = null;\n        instance_opts.parsed_img_aspect_ratio = null;\n      }\n    }\n\n    // classes and all needed merging\n    if(instance_opts.fupl_alert_btn_class) {\n      instance_opts.fupl_alert_template = instance_opts.fupl_alert_template\n        .replace('fupl-alert-btn', 'fupl-alert-btn ' + instance_opts.fupl_alert_btn_class);\n    }\n\n    // calling the createUploader function. Global options are completely overwritten\n    // by instance_opts\n    new createUploader({\n      strs: fupl.strs,\n      opts: instance_opts\n    });\n\n  }); // end document.querySelectorAll(fupl.selector).forEach\n\n}\n\n","/*!@preserve\n *\n * FileUploader 2\n * HTML5 / JS Async Uploader\n * Massimo Cassandro 2017-2021\n *\n */\n\nimport fupl_strings_it from './i18n/it.js';\nimport {default_options} from './_default_options.js';\n\nimport {fupl_init} from './_init.js';\n\nexport default function FileUploader( params ) {\n\n  /*\n  params obj => {\n    selector    : [string] selector of fileuploader elements\n    options     : [object] custom options\n    css         : [string] css url\n    local_strs  : [object] localized strings\n  }\n  */\n\n  const version =  '2.3',\n    strs = Object.assign( {}, fupl_strings_it, params.local_strs || {} );\n\n  let opts = Object.assign( {_vers: version}, default_options, params.options || {});\n\n  // change all Mustache-Like Variables with corresponding strings\n  for(let i in opts) {\n    if(typeof opts[i] === 'string') {\n      opts[i] = opts[i].replace(/\\{\\{(.*?)\\}\\}/g, (match, substr) => strs[substr]);\n    }\n  }\n\n  fupl_init({\n    selector : params.selector || '.file-uploader2', // used in fupl_init only\n    css      : params.css || null,                   // used in fupl_init only\n    opts     : opts,\n    strs     : strs\n  });\n}\n"],"names":[],"mappings":"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CA,EAAE,cAAc,EAAE,IAAI;AACtB;AACA;AACA,EAAE,kBAAkB,EAAE,IAAI;AAC1B;AACA;AACA,EAAE,qBAAqB,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;AACnC;AACA;AACA,EAAE,qBAAqB,EAAE,KAAK;AAC9B;AACA;AACA,EAAE,gBAAgB,EAAE,IAAI;AACxB;AACA;AACA,EAAE,SAAS,EAAE,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,KAAK,cAAc,IAAI;AACzB,EAAE,KAAK,cAAc,IAAI;AACzB,EAAE,SAAS,UAAU,IAAI;AACzB,EAAE,SAAS,UAAU,IAAI;AACzB,EAAE,SAAS,UAAU,IAAI;AACzB,EAAE,SAAS,UAAU,IAAI;AACzB,EAAE,gBAAgB,GAAG,IAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,qBAAqB,EAAE,CAAC;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,YAAY,EAAE,IAAI;AACpB;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,EAAE,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,8BAA8B,EAAE,IAAI;AACtC;AACA;AACA;AACA;AACA;AACA,EAAE,aAAa,EAAE,IAAI;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,qBAAqB,EAAE,IAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,wBAAwB,EAAE,IAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,wBAAwB,EAAE,IAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,EAAE,EAAE;AACZ;AACA;AACA,EAAE,cAAc,EAAE,g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"}