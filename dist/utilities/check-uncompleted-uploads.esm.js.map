{"version":3,"file":"check-uncompleted-uploads.esm.js","sources":["../../js-utilities/check-uncompleted-uploads.js"],"sourcesContent":["// check for form submit while file-uploader is loading\n\nexport default function (options) {\n  const default_options = {\n    alert_api: message => { window.alert(message); },\n    message: 'Devi attendere che il caricamento delle immagini sia completato',\n    fupl_selector: '.file-uploader2'\n  };\n\n  options = Object.assign({}, default_options, options);\n\n  document.querySelectorAll(options.fupl_selector).forEach(item => {\n\n    item.closest('form').addEventListener('submit', e => {\n\n      if(e.target.querySelector('.fupl-is-uploading')) {\n        e.preventDefault();\n        e.target.querySelectorAll('[type=submit]').forEach(item => { item.disabled=false;});\n        options.alert_api(options.message);\n      }\n    });\n  });\n}\n"],"names":[],"mappings":"AAAA;AACA;AACe,gCAAQ,EAAE,OAAO,EAAE;AAClC,EAAE,MAAM,eAAe,GAAG;AAC1B,IAAI,SAAS,EAAE,OAAO,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE;AACpD,IAAI,OAAO,EAAE,iEAAiE;AAC9E,IAAI,aAAa,EAAE,iBAAiB;AACpC,GAAG,CAAC;AACJ;AACA,EAAE,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;AACxD;AACA,EAAE,QAAQ,CAAC,gBAAgB,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI;AACnE;AACA,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,IAAI;AACzD;AACA,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,oBAAoB,CAAC,EAAE;AACvD,QAAQ,CAAC,CAAC,cAAc,EAAE,CAAC;AAC3B,QAAQ,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC5F,QAAQ,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC3C,OAAO;AACP,KAAK,CAAC,CAAC;AACP,GAAG,CAAC,CAAC;AACL;;;;"}