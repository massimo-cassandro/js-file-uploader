{"version":3,"file":"check-required-uploader.esm.js","sources":["../../js-utilities/check-required-uploader.js"],"sourcesContent":["// check for required file-uploaders\nexport default function (options) {\n\n  const default_options = {\n    alert_api: message => { window.alert(message); },\n    message: 'Ãˆ necessario caricare le immagini obbligatorie',\n    fupl_selector: '.file-uploader2'\n  };\n\n  options = Object.assign({}, default_options, options);\n\n  document.querySelectorAll(options.fupl_selector).forEach(item => {\n\n    item.closest('form')?.addEventListener('submit', e => {\n\n      let failed_req_uploaders = e.target.querySelectorAll(\n        '.fupl-wrapper:not([disabled])[data-required=\"true\"][data-has-values=\"false\"]'\n      );\n      if(failed_req_uploaders.length) {\n        options.alert_api(options.message);\n\n        e.target.querySelectorAll('[type=\"submit\"]').forEach(btn => {\n          btn.disabled = false;\n        });\n        e.stopImmediatePropagation();\n        e.preventDefault();\n        return false;\n      }\n    }, false);\n  });\n}\n"],"names":[],"mappings":"AAAA;AACe,8BAAQ,EAAE,OAAO,EAAE;AAClC;AACA,EAAE,MAAM,eAAe,GAAG;AAC1B,IAAI,SAAS,EAAE,OAAO,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE;AACpD,IAAI,OAAO,EAAE,gDAAgD;AAC7D,IAAI,aAAa,EAAE,iBAAiB;AACpC,GAAG,CAAC;AACJ;AACA,EAAE,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;AACxD;AACA,EAAE,QAAQ,CAAC,gBAAgB,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI;AACnE;AACA,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,gBAAgB,CAAC,QAAQ,EAAE,CAAC,IAAI;AAC1D;AACA,MAAM,IAAI,oBAAoB,GAAG,CAAC,CAAC,MAAM,CAAC,gBAAgB;AAC1D,QAAQ,8EAA8E;AACtF,OAAO,CAAC;AACR,MAAM,GAAG,oBAAoB,CAAC,MAAM,EAAE;AACtC,QAAQ,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC3C;AACA,QAAQ,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI;AACpE,UAAU,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC;AAC/B,SAAS,CAAC,CAAC;AACX,QAAQ,CAAC,CAAC,wBAAwB,EAAE,CAAC;AACrC,QAAQ,CAAC,CAAC,cAAc,EAAE,CAAC;AAC3B,QAAQ,OAAO,KAAK,CAAC;AACrB,OAAO;AACP,KAAK,EAAE,KAAK,CAAC,CAAC;AACd,GAAG,CAAC,CAAC;AACL;;;;"}