{"version":3,"file":"check-required-uploader.umd.js","sources":["../../js-utilities/check-required-uploader.js"],"sourcesContent":["// check for required file-uploaders\nexport default function (options) {\n\n  const default_options = {\n    alert_api: message => { window.alert(message); },\n    message: 'Ãˆ necessario caricare le immagini obbligatorie',\n    fupl_selector: '.file-uploader2'\n  };\n\n  options = Object.assign({}, default_options, options);\n\n  document.querySelectorAll(options.fupl_selector).forEach(item => {\n\n    item.closest('form').addEventListener('submit', e => {\n\n      let failed_req_uploaders = e.target.querySelectorAll(\n        '.fupl-wrapper:not([disabled])[data-required=\"true\"][data-has-values=\"false\"]'\n      );\n      if(failed_req_uploaders.length) {\n        options.alert_api(options.message);\n\n        e.target.querySelectorAll('[type=\"submit\"]').forEach(btn => {\n          btn.disabled = false;\n        });\n        e.stopImmediatePropagation();\n        e.preventDefault();\n        return false;\n      }\n    }, false);\n  });\n}\n"],"names":[],"mappings":";;;;;;EAAA;EACe,8BAAQ,EAAE,OAAO,EAAE;AAClC;EACA,EAAE,MAAM,eAAe,GAAG;EAC1B,IAAI,SAAS,EAAE,OAAO,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE;EACpD,IAAI,OAAO,EAAE,gDAAgD;EAC7D,IAAI,aAAa,EAAE,iBAAiB;EACpC,GAAG,CAAC;AACJ;EACA,EAAE,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;AACxD;EACA,EAAE,QAAQ,CAAC,gBAAgB,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI;AACnE;EACA,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,IAAI;AACzD;EACA,MAAM,IAAI,oBAAoB,GAAG,CAAC,CAAC,MAAM,CAAC,gBAAgB;EAC1D,QAAQ,8EAA8E;EACtF,OAAO,CAAC;EACR,MAAM,GAAG,oBAAoB,CAAC,MAAM,EAAE;EACtC,QAAQ,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC3C;EACA,QAAQ,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI;EACpE,UAAU,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC;EAC/B,SAAS,CAAC,CAAC;EACX,QAAQ,CAAC,CAAC,wBAAwB,EAAE,CAAC;EACrC,QAAQ,CAAC,CAAC,cAAc,EAAE,CAAC;EAC3B,QAAQ,OAAO,KAAK,CAAC;EACrB,OAAO;EACP,KAAK,EAAE,KAAK,CAAC,CAAC;EACd,GAAG,CAAC,CAAC;EACL;;;;;;;;"}