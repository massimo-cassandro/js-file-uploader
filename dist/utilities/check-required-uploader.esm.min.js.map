{"version":3,"file":"check-required-uploader.esm.min.js","sources":["../../js-utilities/check-required-uploader.js"],"sourcesContent":["// check for required file-uploaders\nexport default function (options) {\n\n  const default_options = {\n    alert_api: message => { window.alert(message); },\n    message: 'Ãˆ necessario caricare le immagini obbligatorie',\n    fupl_selector: '.file-uploader2'\n  };\n\n  options = Object.assign({}, default_options, options);\n\n  document.querySelectorAll(options.fupl_selector).forEach(item => {\n\n    item.closest('form').addEventListener('submit', e => {\n\n      let failed_req_uploaders = e.target.querySelectorAll(\n        '.fupl-wrapper:not([disabled])[data-required=\"true\"][data-has-values=\"false\"]'\n      );\n      if(failed_req_uploaders.length) {\n        options.alert_api(options.message);\n\n        e.target.querySelectorAll('[type=\"submit\"]').forEach(btn => {\n          btn.disabled = false;\n        });\n        e.stopImmediatePropagation();\n        e.preventDefault();\n        return false;\n      }\n    }, false);\n  });\n}\n"],"names":["options","default_options","alert_api","message","window","alert","fupl_selector","Object","assign","document","querySelectorAll","forEach","item","closest","addEventListener","e","target","length","btn","disabled","stopImmediatePropagation","preventDefault"],"mappings":"AACe,WAAUA,GAEvB,MAAMC,EAAkB,CACtBC,UAAWC,IAAaC,OAAOC,MAAMF,IACrCA,QAAS,iDACTG,cAAe,mBAGjBN,EAAUO,OAAOC,OAAO,GAAIP,EAAiBD,GAE7CS,SAASC,iBAAiBV,EAAQM,eAAeK,SAAQC,IAEvDA,EAAKC,QAAQ,QAAQC,iBAAiB,UAAUC,IAK9C,GAH2BA,EAAEC,OAAON,iBAClC,gFAEsBO,OAQtB,OAPAjB,EAAQE,UAAUF,EAAQG,SAE1BY,EAAEC,OAAON,iBAAiB,mBAAmBC,SAAQO,IACnDA,EAAIC,UAAW,KAEjBJ,EAAEK,2BACFL,EAAEM,kBACK,KAER"}