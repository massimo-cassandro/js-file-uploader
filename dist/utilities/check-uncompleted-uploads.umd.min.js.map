{"version":3,"file":"check-uncompleted-uploads.umd.min.js","sources":["../../js-utilities/check-uncompleted-uploads.js"],"sourcesContent":["// check for form submit while file-uploader is loading\n\nexport default function (options) {\n  const default_options = {\n    alert_api: message => { window.alert(message); },\n    message: 'Devi attendere che il caricamento delle immagini sia completato',\n    fupl_selector: '.file-uploader2'\n  };\n\n  options = Object.assign({}, default_options, options);\n\n  document.querySelectorAll(options.fupl_selector).forEach(item => {\n\n    item.closest('form')?.addEventListener('submit', e => {\n\n      if(e.target.querySelector('.fupl-is-uploading')) {\n        e.preventDefault();\n        e.target.querySelectorAll('[type=submit]').forEach(item => { item.disabled=false;});\n        options.alert_api(options.message);\n      }\n    });\n  });\n}\n"],"names":["options","default_options","alert_api","message","window","alert","fupl_selector","Object","assign","document","querySelectorAll","forEach","item","closest","addEventListener","e","target","querySelector","preventDefault","disabled"],"mappings":"iQAEe,SAAUA,GACvB,MAAMC,EAAkB,CACtBC,UAAWC,IAAaC,OAAOC,MAAMF,EAAQ,EAC7CA,QAAS,kEACTG,cAAe,mBAGjBN,EAAUO,OAAOC,OAAO,CAAE,EAAEP,EAAiBD,GAE7CS,SAASC,iBAAiBV,EAAQM,eAAeK,SAAQC,IAEvDA,EAAKC,QAAQ,SAASC,iBAAiB,UAAUC,IAE5CA,EAAEC,OAAOC,cAAc,wBACxBF,EAAEG,iBACFH,EAAEC,OAAON,iBAAiB,iBAAiBC,SAAQC,IAAUA,EAAKO,UAAS,CAAK,IAChFnB,EAAQE,UAAUF,EAAQG,SAC3B,GACD,GAEN"}